(function(t){function e(e){for(var o,r,n=e[0],l=e[1],c=e[2],d=0,h=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&h.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(o=!1)}o&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},i=[];function r(t){return n.p+"js/"+({}[t]||t)+"."+{"chunk-2dda7416":"1f86aa76"}[t]+".js"}function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=s[t]=[e,o]}));e.push(a[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=r(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=s[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,a[1](c)}s[t]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"03d4":function(t,e,a){"use strict";a("ade4")},"0df9":function(t,e,a){"use strict";a("8aef")},"4fc1":function(t,e,a){"use strict";a("6db9")},5083:function(t,e,a){"use strict";a("b746")},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),s=a("0798"),i=a("7496"),r=a("40dc"),n=a("8336"),l=a("132d"),c=a("f6c4"),d=a("8dd9"),u=a("2db4"),h=a("2fa4"),p=function(){var t=this,e=t._self._c;return e(i["a"],["Camera"!==t.$route.name?e(r["a"],{attrs:{height:"90",flat:"",app:"",color:"white"}},[e("div",{staticClass:"text-h4 font-weight-bold mt-5 ps-2"},[t._v(t._s(t.$route.name))]),e(h["a"]),e("div",{staticClass:"logo mt-5 rounded-circle"},[e("img",{attrs:{src:a("9b19"),alt:"Logo"}})])],1):t._e(),e(c["a"],[t.offline?e(s["a"],{staticClass:"offline elevation-4",attrs:{type:"error",dense:"",border:"right","colored-border":""}},[t._v("No network connection...")]):t._e(),e("router-view",{attrs:{savColors:t.savColors,savPalettes:t.savPalettes,offline:t.offline},on:{snackbar:t.openSnackbar,getsc:t.getSavColors,getsp:t.getSavPalettes,delsav:t.delSaved,editsav:t.editSaved,addc:t.addColor,addp:t.addPalette}})],1),e("div",{staticClass:"nav-wrapper"},[e(d["a"],{staticClass:"nav ma-3 rounded-pill",attrs:{elevation:"4"}},[e(n["a"],{attrs:{"x-large":"",plain:"",fab:"","active-class":"nav-active",to:"/about",exact:""}},[e(l["a"],[t._v("mdi-information")])],1),e(n["a"],{staticClass:"main-btn my-3 mx-5",attrs:{to:"/","x-large":"",color:"primary",dark:"",fab:"",exact:""}},[e(l["a"],[t._v("mdi-camera")])],1),e(n["a"],{attrs:{"x-large":"",plain:"",fab:"","active-class":"nav-active",exact:"",to:"/library"}},[e(l["a"],[t._v("mdi-palette")])],1)],1)],1),e(u["a"],{scopedSlots:t._u([{key:"action",fn:function({attrs:a}){return[e(n["a"],t._b({attrs:{color:"primary",text:""},on:{click:t.update}},"v-btn",a,!1),[t._v(" OK ")])]}}]),model:{value:t.swupdate,callback:function(e){t.swupdate=e},expression:"swupdate"}},[t._v(" New content is available!. Click OK to refresh... ")]),e(u["a"],{scopedSlots:t._u([{key:"action",fn:function({attrs:a}){return[e(n["a"],t._b({attrs:{color:"primary",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarmsg)+" ")])],1)},v=[],m=(a("14d9"),a("e9f5"),a("910d"),a("f665"),a("ab43"),a("bc3a")),f=a.n(m),g=a("1d25"),b={name:"App",data:()=>({serverAddress:"",value:"recent",swupdate:!1,offline:!navigator.onLine,savColors:[],savPalettes:[],db:void 0,snackbar:!1,snackbarmsg:""}),methods:{update(){this.swupdate=!1,location.reload()},notify(t){f.a.post(this.serverAddress+"/notify",{message:t})},openSnackbar(t){this.snackbarmsg=t,this.snackbar=!0},async addColor(t){await f.a.post(this.serverAddress+"/colors",t),this.getSavColors(),this.$router.push({path:"/library"}),this.notify("Hi, a new color was added to the library. Go check it out!")},async addPalette(t){await f.a.post(this.serverAddress+"/palettes",t),this.getSavPalettes(),this.$router.push({path:"/library"}),this.notify("Hi, a new palette was added to the library. Go check it out!")},async getSavColors(){if(this.offline){const t=await this.db.getAll("colors");this.savColors=t.filter(t=>!t.isDeleted)}else{const{data:t}=await f.a.get(this.serverAddress+"/colors");this.savColors=t.map(t=>({...t,show:!1,isDeleted:!1})),await this.db.clear("colors");for(let e of this.savColors)await this.db.put("colors",e)}},async getSavPalettes(){if(this.offline){const t=await this.db.getAll("palettes");this.savPalettes=t.filter(t=>!t.isDeleted)}else{const{data:t}=await f.a.get(this.serverAddress+"/palettes");this.savPalettes=t.map(t=>({...t,show:!1,isDeleted:!1})),await this.db.clear("palettes");for(let e of this.savPalettes)await this.db.put("palettes",e)}},async editSaved(t){if(t.color){if(this.offline){let e=this.savColors.find(e=>t.id===e.id);e={...t,isEdited:!0},this.db.put("colors",e)}else await f.a.patch(`${this.serverAddress}/colors/${t.id}`,t);this.getSavColors()}else{if(this.offline){let e=this.savPalettes.find(e=>t.id===e.id);e={...t,isEdited:!0},this.db.put("palettes",e)}else await f.a.patch(`${this.serverAddress}/palettes/${t.id}`,t);this.getSavPalettes()}},async delSaved(t){if(t.color){if(this.offline){let e=this.savColors.find(e=>t.id===e.id);e.isDeleted=!0,this.db.put("colors",e)}else await f.a.delete(`${this.serverAddress}/colors/${t.id}`);this.getSavColors()}else{if(this.offline){let e=this.savPalettes.find(e=>t.id===e.id);e.isDeleted=!0,this.db.put("palettes",e)}else await f.a.delete(`${this.serverAddress}/palettes/${t.id}`);this.getSavPalettes()}}},async created(){this.db=await Object(g["a"])("colorcapturedb",1,{upgrade(t){t.createObjectStore("colors",{keyPath:"id"}),t.createObjectStore("palettes",{keyPath:"id"})}}),document.addEventListener("swUpdated",()=>this.swupdate=!0,{once:!0}),window.addEventListener("online",async()=>{this.offline=!1;let t=await this.db.getAll("colors");for(let a of t)a.isDeleted?(await f.a.delete(`${this.serverAddress}/colors/${a.id}`),await this.db.delete("colors",a.id)):a.isEdited&&(await f.a.patch(`${this.serverAddress}/colors/${a.id}`,a),a.isEdited=!1,this.db.put("colors",a));this.getSavColors();let e=await this.db.getAll("palettes");for(let a of e)a.isDeleted?(await f.a.delete(`${this.serverAddress}/palettes/${a.id}`),await this.db.delete("palettes",a.id)):a.isEdited&&(await f.a.patch(`${this.serverAddress}/palettes/${a.id}`,a),a.isEdited=!1,this.db.put("palettes",a));this.getSavPalettes()}),window.addEventListener("offline",()=>this.offline=!0),this.getSavColors(),this.getSavPalettes()}},w=b,_=(a("5083"),a("2877")),y=Object(_["a"])(w,p,v,!1,null,null,null),k=y.exports,x=a("9483");Object(x["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(t){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:t}))},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var C=a("8c4f"),S=a("b0af"),P=a("99d9"),$=a("cc20"),D=a("62ad"),j=a("03a4"),O=a("169a"),A=a("ce7e"),M=a("d903"),T=a("604c"),U=a("e449"),E=a("0fd9"),L=a("71d9"),R=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"camera"},[e("video",{staticClass:"video",attrs:{playsinline:"",autoplay:""}},[t._v(" Video stream not available. ")]),e("div",{staticClass:"controls"},[e(n["a"],{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",loading:t.loading}},[e(l["a"],{attrs:{dark:""}},[t._v(" mdi-image-multiple ")]),e("input",{ref:"photoInp",staticClass:"v-btn--fab v-btn--round v-size--small",staticStyle:{opacity:"0",position:"absolute"},attrs:{type:"file",accept:"image/*"},on:{change:t.selectimage}})],1),e(n["a"],{staticClass:"mx-2",attrs:{disabled:!t.videoReady,loading:t.loading,fab:"",dark:""},on:{click:function(e){return e.stopPropagation(),t.takepicture.apply(null,arguments)}}},[e(l["a"],{attrs:{dark:""}},[t._v(" mdi-radiobox-marked ")])],1),e(n["a"],{staticClass:"mx-2",attrs:{loading:t.loading,disabled:!t.videoReady||t.isTurning,fab:"",dark:"",small:""},on:{click:t.turnCam}},[e(l["a"],{attrs:{dark:""}},[t._v(" mdi-camera-switch ")])],1)],1)]),e(O["a"],{attrs:{eager:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(S["a"],[e(L["a"],{staticClass:"edit-header"},[e(n["a"],{attrs:{icon:""},on:{click:function(e){t.dialog=!1}}},[e(l["a"],[t._v("mdi-close")])],1)],1),e("div",{staticClass:"wrapper"},[e("canvas",{staticClass:"canvas",on:{mousedown:t.pickcolor}})]),t.showPalette?e(P["c"],{staticClass:"edit-main edit-palette text--primary rounded-t-xl"},[e("div",{staticClass:"mb-1 mt-3 font-weight-bold text-center"},[t._v(" Generated "),e("span",{staticClass:"primary--text"},[t._v("color scheme ")]),t._v(" to image. "),e("br"),t._v(" Select individual colors to "),e("span",{staticClass:"primary--text"},[t._v("change")]),t._v(" them. ")]),e(T["b"],{attrs:{mandatory:""},model:{value:t.pix,callback:function(e){t.pix=e},expression:"pix"}},[e(E["a"],{staticClass:"elevation-3 rounded-pill pa-3 my-2",attrs:{"no-gutters":""}},t._l(t.palette,(function(a,o){return e(D["a"],{key:o},[e(M["a"],{scopedSlots:t._u([{key:"default",fn:function({active:t,toggle:o}){return[e($["a"],{staticClass:"color-field inset-shadow mx-2",class:{active:t},attrs:{color:a},on:{click:o}})]}}],null,!0)})],1)})),1)],1),e("div",{staticClass:"color-edit my-2"},[e(U["a"],{attrs:{top:"","offset-y":!0,"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(n["a"],t._g(t._b({attrs:{icon:"",fab:"",small:""}},"v-btn",o,!1),a),[e(l["a"],{attrs:{dark:""}},[t._v("mdi-pencil")])],1)]}}])},[e(j["a"],{model:{value:t.palette[t.pix],callback:function(e){t.$set(t.palette,t.pix,e)},expression:"palette[pix]"}})],1),e("ColorPill",{attrs:{color:t.palette[t.pix]}})],1)],1):e(P["c"],{staticClass:"edit-main edit-color text--primary rounded-t-xl"},[e("div",{staticClass:"mb-1 mt-3 font-weight-bold text-center"},[t._v(" Click on the image to "),e("span",{staticClass:"primary--text"},[t._v("pick")]),t._v(" a color. "),e("br"),t._v(" Click on the color to copy it. ")]),e("div",{staticClass:"color-edit my-2"},[e(U["a"],{attrs:{top:"","offset-y":!0,"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(n["a"],t._g(t._b({attrs:{icon:"",fab:"",small:""}},"v-btn",o,!1),a),[e(l["a"],{attrs:{dark:""}},[t._v("mdi-pencil")])],1)]}}],null,!1,3775545874)},[e(j["a"],{model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),e("ColorPill",{attrs:{color:t.color}})],1)]),e(A["a"]),e(P["a"],{staticClass:"ps-2 edit-footer"},[e(n["a"],{attrs:{color:"secondary",rounded:""},on:{click:function(e){t.showPalette=!t.showPalette}}},[e(l["a"],{staticClass:"mr-2"},[t._v("mdi-"+t._s(t.showPalette?"arrow-left":"palette"))]),t._v(" "+t._s(t.showPalette?"Back":"Palette")+" ")],1),e("SaveDialog",{attrs:{isPalette:t.showPalette,palette:t.palette,offline:t.offline,image:t.image,color:t.color},on:{add:t.save}})],1)],1)],1)],1)},B=[],q=(a("7d54"),a("88a7"),a("271a"),a("5494"),a("07a2")),H=a("4bd4"),I=a("8654"),G=a("a844"),z=function(){var t=this,e=t._self._c;return e(O["a"],{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(n["a"],t._g(t._b({attrs:{disabled:t.offline,color:"primary",rounded:""}},"v-btn",o,!1),a),[e(l["a"],{staticClass:"mr-2"},[t._v("mdi-"+t._s(t.offline?"cancel":"content-save")+" ")]),t._v(" "+t._s(t.offline?"offline save":"save")+" ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(S["a"],[e(L["a"],{attrs:{dark:"",dense:""}},[e(n["a"],{attrs:{icon:""},on:{click:function(e){t.dialog=!1}}},[e(l["a"],[t._v("mdi-close")])],1),e("div",[t._v("Save "+t._s(t.isPalette?"palette":"color")+" to library")])],1),e(P["c"],[e(H["a"],{ref:"form",attrs:{"lazy-validation":""}},[e(I["a"],{attrs:{label:"Title *",required:"",counter:20,rules:t.titleRules,hint:"A title for this creation."},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e(I["a"],{attrs:{label:"Creator",hint:"Name of the creator."},model:{value:t.creator,callback:function(e){t.creator=e},expression:"creator"}}),e(G["a"],{attrs:{solo:"",label:"Comment",hint:"A small description or comment."},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),e("small",[t._v("* indicates required field")])],1)],1),e(P["a"],[e(h["a"]),e(n["a"],{attrs:{rounded:"",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e(n["a"],{attrs:{rounded:"",color:"primary",loading:t.loading},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)},N=[],F={data:()=>({dialog:!1,title:"",titleRules:[t=>!!t||"Title is required",t=>t&&t.length<=20||"Title must be less than 20 characters"],creator:"",comment:"",loading:!1}),props:{image:String,color:String,palette:Array,isPalette:Boolean,offline:Boolean},methods:{async save(){if(this.$refs.form.validate()){let t,e="";if("geolocation"in navigator){const{coords:t}=await new Promise((t,e)=>{navigator.geolocation.getCurrentPosition(t,e,{enableHighAccuracy:!0})});e=`${t.latitude},${t.longitude}`}else console.log("Error, Geolocation");t=this.isPalette?{image:this.image,title:this.title,creator:this.creator,comment:this.comment,palette:this.palette,location:e}:{image:this.image,title:this.title,creator:this.creator,comment:this.comment,color:this.color,location:e},this.$emit("add",t)}}},created(){navigator.geolocation.getCurrentPosition((function(){}))}},W=F,J=Object(_["a"])(W,z,N,!1,null,null,null),K=J.exports,V=a("3a2f"),X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"color-pill"},[e(V["a"],{attrs:{"open-on-click":!0,"open-on-hover":!1,top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e($["a"],t._g(t._b({staticClass:"inset-shadow rounded-pill mx-1",class:t.fontColor,attrs:{color:t.color},on:{click:t.copy}},"v-chip",o,!1),a),[t._v(" "+t._s(t.colormode)+" ")])]}}]),model:{value:t.tooltip,callback:function(e){t.tooltip=e},expression:"tooltip"}},[e("span",[t._v("Copied "+t._s(t.colormode)+" to clipboard.")])]),e(n["a"],{attrs:{icon:"",fab:"",small:""},on:{click:t.swapMode}},[e(l["a"],[t._v("mdi-unfold-more-horizontal")])],1)],1)},Y=[],Q={data:()=>({modes:["hex","rgb","hsl"],mode:0,tooltip:!1}),props:{color:String},computed:{colormode(){switch(this.modes[this.mode]){case"hex":return this.color;case"rgb":return this.hexToRgb(this.color);case"hsl":return this.hexToHsl(this.color);default:return"error"}},fontColor(){let t="0x"+this.color[1]+this.color[2],e="0x"+this.color[3]+this.color[4],a="0x"+this.color[5]+this.color[6];const o=.299*+t+.587*+e+.114*+a;return o>120?"black--text":"white--text"}},methods:{swapMode(){this.mode++,this.mode>=this.modes.length&&(this.mode=0)},async copy(){await navigator.clipboard.writeText(this.colormode),this.tooltip=!0,setTimeout(()=>this.tooltip=!1,1500)},hexToRgb(t){let e="0x"+t[1]+t[2],a="0x"+t[3]+t[4],o="0x"+t[5]+t[6];return`rgb(${+e}, ${+a}, ${+o})`},hexToHsl(t){let e="0x"+t[1]+t[2],a="0x"+t[3]+t[4],o="0x"+t[5]+t[6];e/=255,a/=255,o/=255;let s=Math.min(e,a,o),i=Math.max(e,a,o),r=i-s,n=0,l=0,c=0;return n=0==r?0:i==e?(a-o)/r%6:i==a?(o-e)/r+2:(e-a)/r+4,n=Math.round(60*n),n<0&&(n+=360),c=(i+s)/2,l=0==r?0:r/(1-Math.abs(2*c-1)),`hsl(${n}, ${l.toFixed(2)}, ${c.toFixed(2)})`}}},Z=Q,tt=(a("0df9"),Object(_["a"])(Z,X,Y,!1,null,null,null)),et=tt.exports;const at=new q["a"];let ot;var st={name:"Home",data(){return{canvas:void 0,dialog:!1,image:"",width:320,height:0,color:"#ffffff",pix:0,palette:[],showPalette:!1,videoReady:!1,facingmode:"user",stream:void 0,isTurning:!1,loading:!1}},props:{offline:Boolean},components:{SaveDialog:K,ColorPill:et},methods:{getUserMedia(t){if(navigator.mediaDevices)return navigator.mediaDevices.getUserMedia(t);var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e?new Promise((a,o)=>{e.bind(navigator)(t,a,o)}):void 0},selectimage(){this.loading=!0;const t=this.$refs.photoInp.files[0];if(this.$refs.photoInp.value="",!t)return;const e=new Image;console.log(e),e.src=URL.createObjectURL(t),e.onload=()=>{this.drawImage(e)}},takepicture(){this.loading=!0,this.drawImage(ot)},drawImage(t){this.canvas||(this.canvas=document.querySelector(".canvas"));let e=!1;t.width&&t.height?(this.canvas.width=t.width,this.canvas.height=t.height,e=!0):t.videoWidth&&t.videoHeight?(this.canvas.width=ot.videoWidth,this.canvas.height=ot.videoHeight):console.log("Error.");const a=this.canvas.getContext("2d");if(a.drawImage(t,0,0,this.canvas.width,this.canvas.height),this.image=this.canvas.toDataURL("image/png"),e)this.setColorScheme(t);else{const t=new Image;t.src=this.image,t.onload=()=>this.setColorScheme(t)}this.dialog=!0,this.loading=!1},pickcolor(t){const e=t.offsetX*this.canvas.width/this.canvas.clientWidth,a=t.offsetY*this.canvas.height/this.canvas.clientHeight,o=this.canvas.getContext("2d"),s=o.getImageData(e,a,1,1),i=this.rgbToHex(...s.data);this.showPalette?this.$set(this.palette,this.pix,i):this.color=i},setColorScheme(t){this.color=this.rgbToHex(...at.getColor(t));const e=at.getPalette(t,5);this.palette=e.map(t=>this.rgbToHex(...t)),this.pix=0},rgbToHex(t,e,a){return"#"+[t,e,a].map(t=>{const e=t.toString(16);return 1===e.length?"0"+e:e}).join("")},turnCam(){this.isTurning=!0,this.facingmode="user"==this.facingmode?"environment":"user";const t=this.stream.getTracks();t.forEach(t=>t.stop()),this.setStream(this.facingmode)},setStream(t){this.getUserMedia({video:{facingMode:t}}).then(t=>{this.stream=t,this.videoReady=!0,ot=document.querySelector(".video"),"srcObject"in ot?ot.srcObject=t:navigator.mozGetUserMedia?ot.mozSrcObject=t:ot.src=(window.URL||window.webkitURL).createObjectURL(t),ot.play(),this.isTurning=!1}).catch((function(t){console.log(t)}))},save(t){console.log(t),console.log(this.showPalette),this.showPalette?this.$emit("addp",t):this.$emit("addc",t)}},async mounted(){navigator.mediaDevices||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia?this.setStream(this.facingmode):alert("User Media API not supported.")}},it=st,rt=(a("03d4"),Object(_["a"])(it,R,B,!1,null,null,null)),nt=rt.exports,lt=a("a523"),ct=a("c377"),dt=a("0789"),ut=a("adda"),ht=a("8860"),pt=a("da13"),vt=a("b974"),mt=a("71a3"),ft=a("c671"),gt=a("fe57"),bt=a("aac8"),wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pb-16"},[e(gt["a"],{staticClass:"px-4 white",staticStyle:{position:"fixed","z-index":"5"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(mt["a"],[t._v("Colors")]),e(mt["a"],[t._v("Palettes")])],1),e(bt["a"],{staticClass:"py-12",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(ft["a"],[e(ct["a"],{staticClass:"px-4",attrs:{"disable-pagination":"","hide-default-footer":"",items:t.savColors,search:t.search,"sort-by":t.sortBy.toLowerCase(),"sort-desc":t.sortDesc},scopedSlots:t._u([{key:"header",fn:function(){return[e(L["a"],{staticClass:"mt-7 elevation-0",staticStyle:{"border-top":"1px solid #ddd"}},[e(dt["e"],["search"==t.inptoggle?e(I["a"],{ref:"inp",staticClass:"rounded-pill me-1",attrs:{clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e()],1),e(dt["e"],["sort"==t.inptoggle?e(vt["a"],{staticClass:"me-1",attrs:{dense:"","hide-details":"",items:t.keys,"prepend-inner-icon":"mdi-sort",label:"Sort by"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}):t._e()],1),e(dt["e"],["sort"==t.inptoggle?e(n["a"],{attrs:{small:"",fab:"",text:""},on:{click:function(e){t.sortDesc=!t.sortDesc}}},[e(l["a"],[t._v("mdi-sort-alphabetical-variant")])],1):t._e()],1),t.inptoggle?t._e():e(h["a"]),t.inptoggle?t._e():e(n["a"],{attrs:{icon:""},on:{click:function(e){t.inptoggle="search"}}},[e(l["a"],[t._v("mdi-magnify")])],1),t.inptoggle?t._e():e(n["a"],{attrs:{icon:""},on:{click:function(e){t.inptoggle="sort"}}},[e(l["a"],[t._v("mdi-sort")])],1),t.inptoggle?e(n["a"],{attrs:{icon:""},on:{click:function(e){t.inptoggle=""}}},[e(l["a"],[t._v("mdi-chevron-right")])],1):t._e()],1)]},proxy:!0},{key:"default",fn:function(a){return[e(lt["a"],[e(E["a"],t._l(a.items,(function(a){return e(D["a"],{key:a.id,attrs:{cols:"12",md:"6",lg:"4"}},[e(S["a"],{staticClass:"mx-auto sc-card",attrs:{"max-width":"344",elevation:"4"}},[e(ut["a"],{attrs:{src:`${t.serverAddress}/images/${a.imgname}`,height:"200px"}}),e(P["d"],[t._v(" "+t._s(a.title||"Untitled Work")+" ")]),e(P["b"],[t._v(" by "+t._s(a.creator||"Unknown Creator")+" ")]),e(P["c"],[e("ColorPill",{attrs:{color:a.color}})],1),e(P["a"],{attrs:{icon:""},on:{click:function(t){a.show=!a.show}}},[e(n["a"],{attrs:{rounded:"",color:"primary",text:""}},[t._v("Details")]),e(h["a"]),e(n["a"],{attrs:{icon:""}},[e(l["a"],[t._v(" "+t._s(a.show?"mdi-chevron-up":"mdi-chevron-down")+" ")])],1)],1),e(dt["a"],[e("div",{directives:[{name:"show",rawName:"v-show",value:a.show,expression:"sc.show"}]},[e(A["a"]),e(P["c"],[e("blockquote",{staticClass:"font-italic"},[t._v(" "+t._s(a.comment)+" ")]),e($["a"],{staticClass:"my-5 me-2"},[e(l["a"],{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(new Date(a.createdate).toDateString())+" ")],1),e($["a"],{on:{click:function(e){return t.openMap(a.location)}}},[e(l["a"],{attrs:{left:""}},[t._v(" mdi-map-marker ")]),t._v(" "+t._s(a.location||"--,--")+" ")],1)],1),e(A["a"]),e(P["a"],[e(h["a"]),e(n["a"],{attrs:{icon:""},on:{click:function(e){t.delDialog=!0,t.currObj={...a}}}},[e(l["a"],[t._v("mdi-delete")])],1),e(n["a"],{attrs:{icon:""},on:{click:function(e){t.editDialog=!0,t.currObj={...a}}}},[e(l["a"],[t._v("mdi-pencil")])],1),e(n["a"],{attrs:{icon:""},on:{click:t.share}},[e(l["a"],[t._v("mdi-share-variant")])],1)],1)],1)])],1)],1)})),1)],1)]}}])})],1),e(ft["a"],[e(ct["a"],{attrs:{"disable-pagination":"","hide-default-footer":"",items:t.savPalettes,search:t.search,"sort-by":t.sortBy.toLowerCase(),"sort-desc":t.sortDesc},scopedSlots:t._u([{key:"header",fn:function(){return[e(L["a"],{staticClass:"mt-7 elevation-0",staticStyle:{"border-top":"1px solid #ddd"}},[e(dt["e"],["search"==t.inptoggle?e(I["a"],{ref:"inp",staticClass:"rounded-pill me-1",attrs:{clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e()],1),e(dt["e"],["sort"==t.inptoggle?e(vt["a"],{staticClass:"me-1",attrs:{dense:"","hide-details":"",items:t.keys,"prepend-inner-icon":"mdi-sort",label:"Sort by"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}):t._e()],1),e(dt["e"],["sort"==t.inptoggle?e(n["a"],{attrs:{small:"",fab:"",text:""},on:{click:function(e){t.sortDesc=!t.sortDesc}}},[e(l["a"],[t._v("mdi-sort-alphabetical-variant")])],1):t._e()],1),t.inptoggle?t._e():e(h["a"]),t.inptoggle?t._e():e(n["a"],{attrs:{icon:""},on:{click:function(e){t.inptoggle="search"}}},[e(l["a"],[t._v("mdi-magnify")])],1),t.inptoggle?t._e():e(n["a"],{attrs:{icon:""},on:{click:function(e){t.inptoggle="sort"}}},[e(l["a"],[t._v("mdi-sort")])],1),t.inptoggle?e(n["a"],{attrs:{icon:""},on:{click:function(e){t.inptoggle=""}}},[e(l["a"],[t._v("mdi-chevron-right")])],1):t._e()],1)]},proxy:!0},{key:"default",fn:function(a){return[e(lt["a"],[e(E["a"],t._l(a.items,(function(a){return e(D["a"],{key:a.id,attrs:{cols:"12",md:"6",lg:"4"}},[e(S["a"],{staticClass:"mx-auto sc-card",attrs:{"max-width":"344"}},[e(ut["a"],{attrs:{src:`${t.serverAddress}/images/${a.imgname}`,height:"200px"}}),e(P["d"],[t._v(" "+t._s(a.title||"Untitled Work")+" ")]),e(P["b"],[t._v(" by "+t._s(a.creator||"Unknown Creator")+" ")]),e(P["c"],[e(E["a"],{staticClass:"elevation-3 rounded-pill pa-3 my-2",attrs:{"no-gutters":""}},t._l(a.palette,(function(t,a){return e(D["a"],{key:a,attrs:{align:"center"}},[e($["a"],{staticClass:"color-field inset-shadow mx-2",attrs:{color:t}})],1)})),1)],1),e(P["a"],{attrs:{icon:""},on:{click:function(t){a.show=!a.show}}},[e(n["a"],{attrs:{rounded:"",color:"primary",text:""}},[t._v("Details")]),e(h["a"]),e(n["a"],{attrs:{icon:""}},[e(l["a"],[t._v(" "+t._s(a.show?"mdi-chevron-up":"mdi-chevron-down")+" ")])],1)],1),e(dt["a"],[e("div",{directives:[{name:"show",rawName:"v-show",value:a.show,expression:"sp.show"}]},[e(A["a"]),e(P["c"],[e(ht["a"],t._l(a.palette,(function(a){return e(pt["a"],{key:a},[e(l["a"],{staticClass:"me-2"},[t._v("mdi-clipboard-arrow-down")]),e("ColorPill",{attrs:{color:a}})],1)})),1)],1),e(A["a"]),e(P["c"],[e("blockquote",{staticClass:"font-italic"},[t._v(" "+t._s(a.comment)+" ")]),e($["a"],{staticClass:"my-5"},[e(l["a"],{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(new Date(a.createdate).toDateString())+" ")],1),e($["a"],{on:{click:function(e){return t.openMap(a.location)}}},[e(l["a"],{attrs:{left:""}},[t._v(" mdi-map-marker ")]),t._v(" "+t._s(a.location||"--,--")+" ")],1)],1),e(A["a"]),e(P["a"],[e(h["a"]),e(n["a"],{attrs:{icon:""},on:{click:function(e){t.delDialog=!0,t.currObj={...a}}}},[e(l["a"],[t._v("mdi-delete")])],1),e(n["a"],{attrs:{icon:""},on:{click:function(e){t.editDialog=!0,t.currObj={...a}}}},[e(l["a"],[t._v("mdi-pencil")])],1),e(n["a"],{attrs:{icon:""},on:{click:t.share}},[e(l["a"],[t._v("mdi-share-variant")])],1)],1)],1)])],1)],1)})),1)],1)]}}])})],1)],1),e(O["a"],{staticClass:"mx-auto",attrs:{"max-width":"290"},model:{value:t.delDialog,callback:function(e){t.delDialog=e},expression:"delDialog"}},[e(S["a"],[e(P["d"],{staticClass:"text-h5"},[t._v(" Delete Work ")]),e(P["c"],[t._v(" Are you sure you want to delete this? ")]),e(P["a"],[e(h["a"]),e(n["a"],{attrs:{text:"",rounded:""},on:{click:function(e){t.delDialog=!1}}},[t._v(" cancel ")]),e(n["a"],{attrs:{color:"primary",rounded:""},on:{click:function(e){return t.delSaved(t.currObj)}}},[t._v(" Delete ")])],1)],1)],1),e(O["a"],{attrs:{"max-width":"600px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[e(S["a"],[e(P["d"],[e("span",{staticClass:"text-h5"},[t._v("Edit Work")])]),e(P["c"],[e(H["a"],{ref:"form",attrs:{"lazy-validation":""}},[e(I["a"],{attrs:{label:"Title *",required:"",counter:20,rules:t.titleRules,hint:"A title for this creation."},model:{value:t.currObj.title,callback:function(e){t.$set(t.currObj,"title",e)},expression:"currObj.title"}}),e(I["a"],{attrs:{label:"Creator",hint:"Name of the creator."},model:{value:t.currObj.creator,callback:function(e){t.$set(t.currObj,"creator",e)},expression:"currObj.creator"}}),e(G["a"],{attrs:{solo:"",label:"Comment",hint:"A small description or comment."},model:{value:t.currObj.comment,callback:function(e){t.$set(t.currObj,"comment",e)},expression:"currObj.comment"}}),e("small",[t._v("* indicates required field")])],1)],1),e(P["a"],[e(h["a"]),e(n["a"],{attrs:{text:"",rounded:""},on:{click:function(e){t.editDialog=!1}}},[t._v(" Cancel ")]),e(n["a"],{attrs:{color:"primary",rounded:""},on:{click:function(e){return t.editSaved(t.currObj)}}},[t._v(" Save Changes ")])],1)],1)],1)],1)},_t=[],yt={name:"Home",components:{ColorPill:et},props:{savColors:Array,savPalettes:Array},data(){return{serverAddress:"",tab:null,search:"",filter:{},sortDesc:!1,sortBy:"title",keys:["title","createdate","creator"],delDialog:!1,editDialog:!1,currObj:{},titleRules:[t=>!!t||"Title is required",t=>t&&t.length<=20||"Title must be less than 20 characters"],inptoggle:""}},methods:{async getSavColors(){this.$emit("getsc")},async getSavPalettes(){this.$emit("getsp")},async delSaved(t){this.$emit("delsav",t),this.delDialog=!1},async editSaved(t){this.$refs.form.validate()&&(this.$emit("editsav",t),this.editDialog=!1)},openMap(t){var e,a;if(!t)return;const o=t.split(",");let s=(null===(e=navigator)||void 0===e||null===(e=e.userAgentData)||void 0===e?void 0:e.platform)||(null===(a=navigator)||void 0===a?void 0:a.platform)||"unknown";"iPhone"==s||"iPad"==s||"iPod"==s?window.open(`maps://maps.google.com/maps/?q=${o[0]},${o[1]}`):window.open(`https://maps.google.com/maps/?q=${o[0]},${o[1]}`)},share(){"share"in navigator?navigator.share({title:"Color Capture",text:"Look at the work I made with Color Capture!",url:"https://colorcapture.herokuapp.com/library/"}).then(()=>console.log("Successful share")).catch(t=>console.log("Error sharing:",t)):alert("Web Share API not supported.")}}},kt=yt,xt=(a("4fc1"),Object(_["a"])(kt,wt,_t,!1,null,null,null)),Ct=xt.exports;o["a"].use(C["a"]);const St=[{path:"/",name:"Camera",component:nt},{path:"/library",name:"Color Library",component:Ct},{path:"/about",name:"App Info",component:()=>a.e("chunk-2dda7416").then(a.bind(null,"f820"))}],Pt=new C["a"]({mode:"history",base:"/",routes:St});var $t=Pt,Dt=a("f309");o["a"].use(Dt["a"]);var jt=new Dt["a"]({theme:{themes:{light:{primary:"#FD836E",secondary:"#4C3F44",accent:"#F4A698",success:"#4BA961",info:"#3EACDC",warning:"#FDE74C"}}}});o["a"].config.productionTip=!1,new o["a"]({router:$t,vuetify:jt,render:t=>t(k)}).$mount("#app")},"6db9":function(t,e,a){},"8aef":function(t,e,a){},"9b19":function(t,e,a){t.exports=a.p+"img/logo.72603e2b.svg"},ade4:function(t,e,a){},b746:function(t,e,a){}});